<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>数量・開始時間　入力画面</title>

    <link rel="stylesheet" href="../css/style3.css">
</head>
<body>
    <form>

        <div class="box1">
            <div class="section2">
                <p>
                    <hr/>
                </p>
                <h2>面取り No.1</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_CNC1">生産機種</label>
                        <select id="prod_type_CNC1" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_CNC1" type="text" value="0" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_CNC1">開始時刻</label>
                        <select id="start_hour_CNC1" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_CNC1">時</label>
                        <select id="start_min_CNC1" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_CNC1">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>面取り No.2</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_CNC2">生産機種</label>
                        <select id="prod_type_CNC2" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_CNC2" type="text" value="2300" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_CNC2">開始時刻</label>
                        <select id="start_hour_CNC2" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_CNC2">時</label>
                        <select id="start_min_CNC2" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_CNC2">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>面取り No.3</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_CNC3">生産機種</label>
                        <select id="prod_type_CNC3" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_CNC3" type="text" value="2300" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_CNC3">開始時刻</label>
                        <select id="start_hour_CNC3" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_CNC3">時</label>
                        <select id="start_min_CNC3" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_CNC3">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>面取り No.4</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_CNC4">生産機種</label>
                        <select id="prod_type_CNC4" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_CNC4" type="text" value="2300" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_CNC4">開始時刻</label>
                        <select id="start_hour_CNC4" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_CNC4">時</label>
                        <select id="start_min_CNC4" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_CNC4">分</label>
                    </div>
                        <p>
                            <hr/>
                        </p>
            </div>

            <div class="section2">
                <p>
                    <hr/>
                </p>           
                <h2>BUFF No.1 Line</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_BUFF1">生産機種</label>
                        <select id="prod_type_BUFF1" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_BUFF1" type="text" value="4200" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_BUFF1">開始時刻</label>
                        <select id="start_hour_BUFF1" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_BUFF1">時</label>
                        <select id="start_min_BUFF1" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_BUFF1">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>BUFF No.2 Line</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_BUFF2">生産機種</label>
                        <select id="prod_type_BUFF2" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_BUFF2" type="text" value="4200" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_BUFF2">開始時刻</label>
                        <select id="start_hour_BUFF2" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_BUFF2">時</label>
                        <select id="start_min_BUFF2" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_BUFF2">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>BUFF No.3 Line</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_BUFF3">生産機種</label>
                        <select id="prod_type_BUFF3" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_BUFF3" type="text" value="0" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_BUFF3">開始時刻</label>
                        <select id="start_hour_BUFF3" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_BUFF3">時</label>
                        <select id="start_min_BUFF3" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_BUFF3">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
            </div>

            <div class="section2">
                <p>
                    <hr/>
                </p>            
                <h2>QA No.1 Line</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_QA1">生産機種</label>
                        <select id="prod_type_QA1" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_QA1" type="text" value="4000" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_QA1">開始時刻</label>
                        <select id="start_hour_QA1" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_QA1">時</label>
                        <select id="start_min_QA1" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_QA1">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
                <h2>QA No.2 Line</h2>
                <p>
                    <hr/>
                </p>
                    <div class="section4">
                        <label for="prod_type_QA2">生産機種</label>
                        <select id="prod_type_QA2" >
                            <option value="10R80">10R80</option>
                            <option value="10R60">10R60</option>
                        </select>
                    </div>
                    <p>今週の生産数 <input id="prod_num_QA2" type="text" value="4000" placeholder="当日生産数を入力"></p>
                    <div class="section3">
                        <label for="start_hour_QA2">開始時刻</label>
                        <select id="start_hour_QA2" >
                            <option value="8">8</option>
                            <option value="7">7</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                        </select>
                        <label for="start_hour_QA2">時</label>
                        <select id="start_min_QA2" >
                            <option value="30">30</option>
                            <option value="0">00</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="35">35</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                        </select>
                        <label for="start_min_QA2">分</label>
                    </div>
                <p>
                    <hr/>
                </p>
            </div>

        </div>
        <div class="section5">
            <input id="submit" type="button" value="条件登録">
            <input id="return" type="button" onclick="location.href='../index.html'" value="HOMEへ戻る">
        </div>
        <div id="status"></div>
    </form> 


    <!--入力した生産情報をPlanとOrderのDBに飛ばすscript-->
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            document.getElementById('submit').addEventListener('click',function(){
                var status = document.getElementById('status');
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function(){
                    if (xhr.readyState === 4){ // 通信完了
                        if (xhr.status === 200) { // 通信成功
                            status.textContent = '送信しました';
                            //setTimeout("status.textContent = ''", 3000);
                        } else {
                            status.textContent = 'サーバーエラーが発生しました';
                        }
                    } else {
                        status.textContent = '送信中';
                    }
                };
                var obj = {
                    "CNC1":{
                        prod_type: document.getElementById('prod_type_CNC1').value,
                        prod_num: document.getElementById('prod_num_CNC1').value,
                        start_hour: document.getElementById('start_hour_CNC1').value,
                        start_min: document.getElementById('start_min_CNC1').value
                        },
                    "CNC2":{
                        prod_type: document.getElementById('prod_type_CNC2').value,
                        prod_num: document.getElementById('prod_num_CNC2').value,
                        start_hour: document.getElementById('start_hour_CNC2').value,
                        start_min: document.getElementById('start_min_CNC2').value
                        },
                    "CNC3":{
                        prod_type: document.getElementById('prod_type_CNC3').value,
                        prod_num: document.getElementById('prod_num_CNC3').value,
                        start_hour: document.getElementById('start_hour_CNC3').value,
                        start_min: document.getElementById('start_min_CNC3').value
                        },
                    "CNC4":{
                        prod_type: document.getElementById('prod_type_CNC4').value,
                        prod_num: document.getElementById('prod_num_CNC4').value,
                        start_hour: document.getElementById('start_hour_CNC4').value,
                        start_min: document.getElementById('start_min_CNC4').value
                        },
                    "BUFF1":{
                        prod_type: document.getElementById('prod_type_BUFF1').value,
                        prod_num: document.getElementById('prod_num_BUFF1').value,
                        start_hour: document.getElementById('start_hour_BUFF1').value,
                        start_min: document.getElementById('start_min_BUFF1').value
                        },
                    "BUFF2":{
                        prod_type: document.getElementById('prod_type_BUFF2').value,
                        prod_num: document.getElementById('prod_num_BUFF2').value,
                        start_hour: document.getElementById('start_hour_BUFF2').value,
                        start_min: document.getElementById('start_min_BUFF2').value
                        },
                    "BUFF3":{
                        prod_type: document.getElementById('prod_type_BUFF3').value,
                        prod_num: document.getElementById('prod_num_BUFF3').value,
                        start_hour: document.getElementById('start_hour_BUFF3').value,
                        start_min: document.getElementById('start_min_BUFF3').value
                        },
                    "QA1":{
                        prod_type: document.getElementById('prod_type_QA1').value,
                        prod_num: document.getElementById('prod_num_QA1').value,
                        start_hour: document.getElementById('start_hour_QA1').value,
                        start_min: document.getElementById('start_min_QA1').value
                        },
                    "QA2":{
                        prod_type: document.getElementById('prod_type_QA2').value,
                        prod_num: document.getElementById('prod_num_QA2').value,
                        start_hour: document.getElementById('start_hour_QA2').value,
                        start_min: document.getElementById('start_min_QA2').value
                        }
                };
                var json = JSON.stringify(obj);
                xhr.open('PUT', 'https://"API_id".execute-api.us-east-1.amazonaws.com/prod/', true);
                xhr.setRequestHeader('Content-Type', 'application/json');
                console.log(json);
                xhr.send(json);
            })
        })
    </script>

</body>
</html>